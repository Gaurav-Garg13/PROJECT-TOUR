// Blog data
const blogPosts = [
    {
      id: "1",
      title: "The Ultimate Guide to Zip Lining",
      content: `
        <p>Zip lining is an exhilarating adventure activity that involves traveling from point to point along a cable, usually made of stainless steel, while suspended by a pulley and harness. Often set high above the ground, zip lines allow riders to soar through treetops, over valleys, or across canyons, offering unique perspectives of natural landscapes.</p>
        
        <p>The thrill comes from the sensation of flying and the speed at which you travel. Depending on the length and incline of the cable, zip lines can reach speeds of up to 100 mph, though most recreational zip lines are designed for speeds of 20-40 mph.</p>
        
        <h2>Safety First</h2>
        
        <p>Modern zip lining operations prioritize safety with multiple systems in place:</p>
        
        <ul>
          <li>Redundant braking systems to control speed</li>
          <li>Regular equipment inspections and maintenance</li>
          <li>Comprehensive training for all guides</li>
          <li>Weight and height requirements to ensure proper fit of safety equipment</li>
          <li>Detailed safety briefings for all participants</li>
        </ul>
        
        <h2>World-Class Zip Line Destinations</h2>
        
        <p>Some of the most breathtaking zip line experiences can be found at:</p>
        
        <ol>
          <li>Monteverde, Costa Rica - Soar through cloud forest canopy</li>
          <li>Zip 2000, Sun City, South Africa - One of the world's longest, fastest zip lines</li>
          <li>Icy Strait Point, Alaska - Longest zip line in North America with stunning mountain views</li>
          <li>Toro Verde, Puerto Rico - Home to "The Monster," one of the world's longest zip lines</li>
          <li>Whistler, British Columbia - Features a network of zip lines through old-growth forests</li>
        </ol>
        
        <p>Whether you're seeking an adrenaline rush or a unique way to experience natural beauty, zip lining offers an unforgettable adventure that combines excitement with breathtaking scenery and a feeling of freedom that's hard to match.</p>
      `,
      excerpt: "Discover everything you need to know about zip lining, from safety considerations to the world's most spectacular courses.",
      author: "Sarah Thompson",
      imageUrl: "https://images.unsplash.com/photo-1541625602330-2277a4c46182?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&h=600&q=80",
      category: "adventure",
      date: "May 4, 2025"
    },
    {
      id: "2",
      title: "Preparing for Your First Zip Line Adventure",
      content: `
        <p>So you've booked your first zip line adventure. Congratulations! You're about to experience one of the most exhilarating ways to explore the natural world. But before you clip onto that cable, there are several things you should know and do to prepare yourself both mentally and physically.</p>
        
        <h2>Physical Preparation</h2>
        
        <p>While zip lining doesn't require extraordinary physical fitness, being in good condition will enhance your experience:</p>
        
        <ul>
          <li>Get a good night's sleep before your adventure</li>
          <li>Stay hydrated before and during your zip line tour</li>
          <li>Avoid alcohol for at least 12 hours before zip lining</li>
          <li>Eat a moderate meal beforehand - you'll want energy, but not discomfort</li>
          <li>Consider basic stretching - some courses require short hikes between lines</li>
        </ul>
        
        <h2>Mental Preparation</h2>
        
        <p>The mental aspect of zip lining can be challenging, especially for those with a fear of heights:</p>
        
        <ul>
          <li>Research the specific course to know what to expect</li>
          <li>Understand that modern zip lines have multiple safety features</li>
          <li>Practice deep breathing techniques to manage anxiety</li>
          <li>Focus on the views rather than the height</li>
          <li>Remember that thousands of people safely enjoy zip lining every day</li>
        </ul>
        
        <h2>What to Wear</h2>
        
        <p>Proper attire is important for comfort and safety:</p>
        
        <ul>
          <li>Wear closed-toe shoes that won't slip off (athletic shoes are ideal)</li>
          <li>Choose comfortable, weather-appropriate clothing that allows freedom of movement</li>
          <li>Secure long hair in a ponytail or braid</li>
          <li>Remove dangling jewelry and empty your pockets</li>
          <li>Consider bringing a light jacket - it can be cooler at elevation</li>
          <li>Apply sunscreen even on cloudy days</li>
        </ul>
        
        <p>Trust in the expertise of your guides - they're there to ensure your safety and maximize your enjoyment. Don't hesitate to ask questions or express concerns; they're experienced in helping first-timers have an amazing experience!</p>
      `,
      excerpt: "Essential tips and advice for first-time zip liners to ensure you have the best possible aerial adventure.",
      author: "Mike Reynolds",
      imageUrl: "https://images.unsplash.com/photo-1622360075323-f0d9610eb1eb?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&h=600&q=80",
      category: "guides",
      date: "May 2, 2025"
    },
    {
      id: "3",
      title: "The History of Zip Lining: From Practical Transport to Adventure Tourism",
      content: `
        <p>Zip lining as we know it today - a thrilling recreational activity - has practical origins dating back centuries. The evolution from functional transportation to adventure tourism represents a fascinating journey through human innovation and our continuing search for adventure.</p>
        
        <h2>Ancient Origins: Practical Transportation</h2>
        
        <p>While the exact origin is difficult to pinpoint, zip lines were first utilized as a practical means of transportation in mountainous regions around the world. In regions like the Himalayas, China, and parts of South America, people developed rudimentary cable systems to transport goods and people across otherwise impassable chasms and rivers.</p>
        
        <p>In remote areas of China, "sky ladders" - primitive versions of zip lines - were used for centuries to cross river valleys. Similarly, in the Nujiang valley of Yunnan Province, locals developed "air carriages" from rope and wood to travel between villages separated by deep gorges.</p>
        
        <h2>Military and Scientific Applications</h2>
        
        <p>In the 20th century, zip lines found application beyond rural transportation. During World War II, military forces used zip lines for quickly deploying troops in difficult terrain or for rapid evacuation procedures.</p>
        
        <p>Biologists and environmental scientists later adapted these systems to study forest canopies and ecosystems that were otherwise difficult to access. These canopy walkways and research zip lines provided unprecedented access to study biodiversity in the treetops.</p>
        
        <h2>Birth of Recreational Zip Lining</h2>
        
        <p>The transition to recreational use began in the 1970s when outdoor enthusiasts started incorporating zip lines into ropes courses and outdoor education programs. Costa Rica is often credited with establishing the first recreational zip line tours in the 1990s, utilizing the technology to offer tourists spectacular views of the rainforest canopy.</p>
        
        <p>What began as a novel way to experience Costa Rica's biodiversity quickly captured global attention. The concept spread rapidly, first throughout Central and South America, then to North America, Europe, Asia, and beyond.</p>
        
        <h2>Modern Evolution and Industry Growth</h2>
        
        <p>Since the early 2000s, zip lining has experienced explosive growth as an adventure tourism activity:</p>
        
        <ul>
          <li>Technology advancements have led to safer, faster, and longer zip lines</li>
          <li>The industry has developed comprehensive safety standards and certifications</li>
          <li>Zip line courses have become more elaborate, often featuring multiple lines, suspension bridges, and platforms</li>
          <li>Specialty variations have emerged, including night zips, tandem zips, and even aquatic landing zones</li>
        </ul>
        
        <p>Today, zip lining represents a significant sector of the adventure tourism industry, with thousands of operations worldwide attracting millions of participants annually. What began as a practical solution for mountainous travel has transformed into one of the world's most popular adventure activities, offering people of all ages a thrilling way to connect with nature and experience the sensation of flight.</p>
      `,
      excerpt: "From practical mountain transportation to global adventure tourism â€“ explore the fascinating evolution of zip lining through the centuries.",
      author: "Dr. James Wilson",
      imageUrl: "https://images.unsplash.com/photo-1605299285028-4562e2e231f8?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&h=600&q=80",
      category: "destinations",
      date: "April 27, 2025"
    }
  ];
  
  const comments = [
    {
      id: "1",
      postId: "1",
      name: "John Smith",
      email: "john@example.com",
      content: "Great article! I did my first zip line experience in Costa Rica last year and it was absolutely breathtaking.",
      date: "May 2, 2025"
    },
    {
      id: "2",
      postId: "1",
      name: "Lisa Wong",
      email: "lisa@example.com",
      content: "I'm usually terrified of heights but your safety section has made me reconsider trying this. The braking systems sound reassuring!",
      date: "April 27, 2025"
    },
    {
      id: "3",
      postId: "2",
      name: "Mark Johnson",
      email: "mark@example.com",
      content: "The tips about what to wear are spot on. I didn't secure my hair properly on my first zip line adventure and ended up with quite the tangled mess!",
      date: "May 4, 2025"
    }
  ];
  
  // DOM elements
  const featuredPostSection = document.getElementById('featured-post');
  const postsGrid = document.getElementById('posts-grid');
  const singlePostView = document.getElementById('single-post-view');
  const postContent = document.getElementById('post-content');
  const commentsList = document.getElementById('comments-list');
  const commentCount = document.getElementById('comment-count');
  const commentForm = document.getElementById('comment-form');
  const categoryTitle = document.getElementById('category-title');
  const currentCategory = document.getElementById('current-category');
  
  // Helper function to create a post card
  function createPostCard(post) {
    return `
      <div class="post-card">
        <div class="post-image">
          <img src="${post.imageUrl}" alt="${post.title}">
        </div>
        <div class="post-header">
          <span class="post-category">${post.category.charAt(0).toUpperCase() + post.category.slice(1)}</span>
          <h3 class="post-title"><a href="#" onclick="showPost('${post.id}')">${post.title}</a></h3>
          <div class="post-meta">
            <span>${post.author}</span>
            <span>${post.date}</span>
          </div>
        </div>
        <div class="post-content">
          <p>${post.excerpt}</p>
        </div>
        <div class="post-footer">
          <a href="#" onclick="showPost('${post.id}')" class="btn">Read More</a>
        </div>
      </div>
    `;
  }
  
  // Helper function to create a comment
  function createComment(comment) {
    const initial = comment.name.charAt(0).toUpperCase();
    return `
      <div class="comment">
        <div class="comment-avatar">${initial}</div>
        <div class="comment-content">
          <div class="comment-header">
            <span class="comment-author">${comment.name}</span>
            <span class="comment-date">${comment.date}</span>
          </div>
          <p class="comment-text">${comment.content}</p>
        </div>
      </div>
    `;
  }
  
  // Initialize the blog
  function initBlog() {
    // Sort posts by date (newest first)
    const sortedPosts = [...blogPosts].sort((a, b) => new Date(b.date) - new Date(a.date));
    
    // Set featured post (newest post)
    const featuredPost = sortedPosts[0];
    featuredPostSection.innerHTML = `
      <div class="hero-inner">
        <div class="hero-content">
          <span class="post-category">${featuredPost.category.charAt(0).toUpperCase() + featuredPost.category.slice(1)}</span>
          <h1>${featuredPost.title}</h1>
          <div class="hero-meta">
            <span>${featuredPost.author}</span>
            <span>${featuredPost.date}</span>
          </div>
          <p>${featuredPost.excerpt}</p>
          <a href="#" onclick="showPost('${featuredPost.id}')" class="btn">Read Article</a>
        </div>
        <div class="hero-image">
          <img src="${featuredPost.imageUrl}" alt="${featuredPost.title}">
        </div>
      </div>
    `;
    
    // Display remaining posts
    const remainingPosts = sortedPosts.slice(1);
    postsGrid.innerHTML = '';
    remainingPosts.forEach(post => {
      postsGrid.innerHTML += createPostCard(post);
    });
  }
  
  // Show a specific post
  function showPost(postId) {
    const post = blogPosts.find(p => p.id === postId);
    if (!post) return;
    
    // Hide home view, show single post view
    document.querySelector('main.container').classList.add('hidden');
    singlePostView.classList.remove('hidden');
    categoryTitle.classList.add('hidden');
    
    // Populate post content
    postContent.innerHTML = `
      <div class="post-header-large">
        <span class="post-category">${post.category.charAt(0).toUpperCase() + post.category.slice(1)}</span>
        <h1>${post.title}</h1>
        <div class="post-meta">
          <span>${post.author}</span>
          <span>${post.date}</span>
        </div>
      </div>
      <img src="${post.imageUrl}" alt="${post.title}">
      <div class="post-content-large">
        ${post.content}
      </div>
    `;
    
    // Load comments for this post
    const postComments = comments.filter(c => c.postId === postId);
    commentCount.textContent = postComments.length;
    
    commentsList.innerHTML = '';
    postComments.forEach(comment => {
      commentsList.innerHTML += createComment(comment);
    });
    
    // Set up comment form submission
    commentForm.onsubmit = function(e) {
      e.preventDefault();
      
      const name = document.getElementById('name').value;
      const email = document.getElementById('email').value;
      const content = document.getElementById('comment').value;
      
      // Create a new comment object
      const newComment = {
        id: String(comments.length + 1),
        postId: postId,
        name: name,
        email: email,
        content: content,
        date: new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' })
      };
      
      // Add to comments array
      comments.push(newComment);
      
      // Update the comments display
      commentsList.innerHTML += createComment(newComment);
      commentCount.textContent = comments.filter(c => c.postId === postId).length;
      
      // Reset form
      commentForm.reset();
      
      // Show success message
      alert('Comment posted successfully!');
    };
    
    // Scroll to top
    window.scrollTo(0, 0);
  }
  
  // Filter posts by category
  function filterByCategory(category) {
    const filteredPosts = blogPosts.filter(p => p.category.toLowerCase() === category.toLowerCase());
    
    // Update category title
    currentCategory.textContent = category.charAt(0).toUpperCase() + category.slice(1);
    
    // Hide home sections, show category title
    featuredPostSection.classList.add('hidden');
    categoryTitle.classList.remove('hidden');
    
    // Update posts grid
    postsGrid.innerHTML = '';
    filteredPosts.forEach(post => {
      postsGrid.innerHTML += createPostCard(post);
    });
    
    // Hide single post view if visible
    singlePostView.classList.add('hidden');
    document.querySelector('main.container').classList.remove('hidden');
    
    // Scroll to top
    window.scrollTo(0, 0);
  }
  
  // Initialize the blog on page load
  document.addEventListener('DOMContentLoaded', initBlog);